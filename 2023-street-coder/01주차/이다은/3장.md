- [3장. 유용한 안티패턴](#3장-유용한-안티패턴)
  - [3.1 깨지 않았다면 깨버려라](#31-깨지-않았다면-깨버려라)
  - [3.2 처음부터 다시 작성하라](#32-처음부터-다시-작성하라)
  - [3.3 코드가 멈추지 않았어도 개선하자](#33-코드가-멈추지-않았어도-개선하자)
  - [3.4 스스로 반복하라](#34-스스로-반복하라)
  - [3.5 지금 새로운 것을 시도하라](#35-지금-새로운-것을-시도하라)
  - [3.6 상속을 사용하지 마라](#36-상속을-사용하지-마라)
  - [3.7 클래스를 사용하지 마라](#37-클래스를-사용하지-마라)
  - [3.8 불량 코드를 작성하라](#38-불량-코드를-작성하라)
  - [3.9 코드 주석을 작성하지 마라](#39-코드-주석을-작성하지-마라)


<br/><br/>

# 3장. 유용한 안티패턴
## 3.1 깨지 않았다면 깨버려라
- 어떤 경우에도 코드 재작성을 피해야 한다.
  - 잘 되던 것이 버그로 회귀할 수도 있다.
  - 코드 경직성: 변화에 대한 기존 코드의 저항
    - 코드 경직성이 높을수록 코드를 조작하기 위해 더 많은 코드를 깨버려야 한다.
- 종속성은 피할 수 없다. 그렇다면 종속성 체인을 잘 구분해 관리해야 한다.
- 코드 경직성은 종속성에 비례한다.
- 의존성에 대한 추상화 경계를 넘지 않아야 한다.
  - 추상화 경계: 코드의 계층 주위에 그리는 논리적 경계 (주어진 계층의 관심사 집합)
- 서로 다른 계층이 같은 기능을 필요로 한다면 공통 모델을 만들어 사용해 볼 수 있다.
- 기술 부채 (의식적인 것) <-> 기술적 미숙함 (무의식적인 것)
- 기술 부채를 다루는 가장 좋은 방법은 당분간 미루는 것이다.

<br/>

## 3.2 처음부터 다시 작성하라
- 지우고 처음부터 다시 시작하라.
  - 이미 한 번 해봤기 때문에 생각보다 시간이 많이 걸리지 않는다.
  - 매몰 비용의 오류에 빠지지 마라.

<br/>

## 3.3 코드가 멈추지 않았어도 개선하자
- 당장 변경할 필요가 없는 코드여도 장기적으로 도움이 된다면 변경한다.
- 라이브러리 업그레이드를 습관화한다.
- 코드를 조금씩 자주 수정한다.

<br/>

## 3.4 스스로 반복하라
- 공유 종속성: 복붙으로 탄생한 동일한 코드
- 함수를 만들어 반복 사용하라.

<br/>

## 3.5 지금 새로운 것을 시도하라
- 의문을 품는 사고방식을 가진 사람들이 발명가가 된다.
- 모든 발명품에 대안이 있는 것은 아니다.
- 새로운 것을 발명하라.

<br/>

## 3.6 상속을 사용하지 마라
- 상속 대신 composition을 활용하라.

<br/>

## 3.7 클래스를 사용하지 마라
- 열거형을 사용하면 type-safe가 보장된다.
- 상속이 필요 없을 땐 구조체를 사용해라.
  - 클래스는 스토리지 오버헤드가 있다.
  - 클래스는 힙에 할당되며 가비지 컬렉션의 대상이 된다.
  - 스택은 함수가 동작하는 동안에만 사용할 수 있고 크기도 제한적이다.
  - 구조체는 경량화된 클래스다. (값 타입이므로 스택에 할당)
    - 값을 복사하기 때문에 너무 큰 구조체라면 차라리 클래스가 나을 수도 있다.

<br/>

## 3.8 불량 코드를 작성하라
- if/else는 코드 가독성을 떨어뜨릴 수 있다.
  - 예외적인 경우를 if 안에 넣고 happy path를 블록 밖에 놓아라.
- goto를 사용할 수 있는 언어라면 적절히 사용하면 좋다.
  - 혹은 로컬 함수를 활용할 수도 있다.

<br/>

## 3.9 코드 주석을 작성하지 마라
- 코드 자체로 설명이 충분할 경우에는 코드 주석을 작성하지 마라. 오히려 가독성을 해친다.
- 이름을 잘 지어라.
- 함수를 작게 만들어라.