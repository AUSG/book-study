# 우리는 왜 리팩터링을 하는가?

리팩터링의 장점은 다음과 같다.
- 반복을 줄이고 코드 재사용 증가
- 정신 모델과 코드를 더 가깝게 한다
- 코드를 더 이해하기 쉽고 유지하기 쉽다
- 특정 클래스에 버그가 발생하지 않도록 한다
- 중요한 아키텍처 변화를 준비할 수 있다
- 코드의 경직된 부분을 없앨 수 있다

# 아키텍처 변경
한 번에 큰 아키텍처 변경을 수행하는 것은 수 많은 버그 및 변경 사항 통합 문제 때문에 좋은 선택이 아니다.

## 구성 요소를 식별하라
대규모 리팩토링을 하는 가장 좋은 방법은 코드를 의미론적으로 다른 구성 요소로 나누는 것이다. -> 표로 정리

## 작업량과 위험도를 추정하라
가능한 오랜 시간 동안 어떤 것도 깨뜨리지 않고 업무량을 줄이기 위해 작업의 우선순위를 정하기 위해 추정하라.

## 평판
여러 통합 단계를 두고 작업을 계획하는 것이 대형 리팩터링을 수행하는 가장 현실성 높은 방법이다.

## 더 쉽게 리팩터링되도록 리팩터링해라
종속성 주입: 종속성을 위한 인터페이스를 만들고 생성자에게 구현체를 입력으로 받는다.

## 마지막 코스
이러한 위험(코드 충돌)을 무릎쓰고 그럴 가치가 있나?를 생각해봐야 한다

# 신뢰할 만한 리팩터링
수동으로 어떤 이름을 변경하면 이 이름을 참조하는 다른 코드가 깨지게 되는 것을 항상 보장하지 않는다.
이를 신뢰할 수 있게 하는 것이 테스트이다. 코드의 테스트 범위가 양호하다면 코드를 훨씬 자유롭게 변경할 수 있다.

# 리팩터링을 하지 않는 경우
좋은 점: 코드 개선할 방법을 생각하게 됨
나쁜 점: 수단이 아닌 목적이 될 수 있다

너무 중독되어 많은 부분을 변경하면, 오히려 시간을 낭비하게 될 수 있다.

## 기준
- 리팩터링의 이유가 "이것이 더 우아한가"가 유일하면 위험 신호이다.
- 대상의 구성 요소가 최소한의 구성 요소 집합에 의존하는가?
- 테스트 범위가 아직 부족한가?
- 공통적인 의존 관계인가?