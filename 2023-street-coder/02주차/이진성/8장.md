## 8장 - 기분 좋은 확장성

### 1. 잠금을 사용하지 마라

- 정말 잠금이 필요한지 확인해라
- 잠금이 없어도 되는 대안이 있는지 확인해라
- 이중 잠금을 사용하여 잠금이 되는 범위를 최소화해라

### 2. 불일치를 수용해라

- 확장성을 높이기 위해서 결과적 일관성도 어느정도 수용할 수 있어야한다.
- 데이터 베이스 연결을 장시간 점유하지 말고 쿼리 시간에 한정해서 점유해라. 연결 풀을 이용하면 더더욱 좋다

### 4. 스레드를 사용하지 마라

- 스레드 풀을 보통 한정해서 사용하는데, 이 경우 너무 많은 스레드를 요청하게 되면 일부 대기가 발생할 수 있다.
- 논블럭킹 I/O를 사용하면 스레드 풀을 효율적으로 할당해 처리할 수 있다.
- I/O 가 없으면 비동기도 사실 필요가 없다.
- 동기화와 비동기를 섞지 마라
- 비동기 실행을 이용한 멀티스레딩도 그냥 멀티스레딩이다.

### 5. 모놀리스를 존중해라.

- 마이크로 서비스 아키텍처에서 고려해야할 것은 수 없이 많다.
- 모노리스도 항상 확장이 불가능한 것은 아니다.