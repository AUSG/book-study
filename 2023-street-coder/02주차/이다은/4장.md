# 4장. 맛있는 테스트

- 테스트의 유형
  - 수동 테스트
    - e2e
  - 자동 테스트
    - 단위 테스트
    - 통합 테스트
      - 자동화된 UI 테스트가 올바른 UI를 빌드하기 위해 프로덕션 코드를 실행하는 경우

<br/>

- prod 환경에서 테스트가 항상 나쁜 건 아니다
  - 테스트 할 시나리오가 자주 사용되는 중요한 코드 경로와 관련이 없다면 문제가 없다.
  - CI가 없으면 어쩔 수 없다. prod에서 테스트로라도 해야지.

<br/>

- 비용 가장 적게, 위험 가장 적게 드는 테스트 방법을 찾아야 한다.

<br/>

- 단일 함수를 여러 번 검사하라
- 테스트 프레임워크를 적절하게 사용하라
  - 테스트 실행하지 않고 특정 테스트 디버깅 가능
  - 테스트 코드 커버리지 확인 가능
  - 테스트 병렬 실행 가능

<br/>

- TDD가 오히려 종속성을 높이고 코드를 굳어버리게 만들 수도 있다. (매몰 비용이 될 수 있다)
- 테스트 코드를 프로토 타입 쓰고 난 이후에 쓰면 오히려 재검토 되고 좋다.

<br/>

- 테스트는 경계값 위주로 진행한다.
- 코드 커버리지가 100%라고 해서 모든 케이스가 테스트 되었다는 건 아니다.
- 20%의 코드 커버리지로 80% 신뢰도를 얻어보자.
  - hot path: 문제가 발생할 가능성이 높은 코드 영역

<br/>

- nullable을 적절히 활용해 널 검사를 할 필요가 없게 만들어라.
- 범위 검사를 제거하라. (int -> uint)

<br/>

- 테스트 이름을 함수이름-상태-예상동작으로 지어보자.
  - Ex) Register_LicenseNotAccepted_ShouldReturnFalse