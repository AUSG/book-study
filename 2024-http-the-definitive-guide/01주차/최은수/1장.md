## 1장 HTTP 개관

### HTTP : 인터넷의 멀티미디어 배달부
- HTTP는 전세계의 웹서버로부터 대량의 정보를 빠르고, 간편하고, 정확하게 사람들의 PC에 설치된 웹 브라우저로 옮겨준다
- HTTP는 신뢰성 있는 데이터 전송 프로토콜을 사용하기 때문에 데이터가 전송 중 손상되거나 꼬이지 않는다

### 웹 클라이언트와 서버
- 웹 서버
  - HTTP 프로토콜로 의사소통하기 때문에 보통 HTTP 서버라고 불린다.
  - 인터넷의 데이터를 저장하고, 클라이언트가 요청한 데이터 제공
- 웹 클라이언트와 서버
  - 클라이언트 -> 서버 : HTTP 요청
  - 서버 -> 클라이언트 : HTTP 응답
### 리소스
- 웹 서버는 웹 리소스를 관리/제공한다
  - 리소스는 정적파일, 동적파일 모두를 포함한다
  - 어떤 종류의 콘텐츠도 리소스가 될 수 있다
- 미디어 타입
  - 인터넷은 수천가지의 데이터 타입을 다루기 때문에 전송되는 객체에 MIME 타입이라는 데이터 포멧 라벨을 붙인다
  - 웹 브라우저는 서버로부터 객체를 돌려받을때 다룰 수 있는 객체인지 MIME타입을 통해 확인 가능
  - MIME : 이메일에서 사용하다가 HTTP에서도 사용하게됨
    - 사선(/)으로 구분된 주타입과 부타입으로 이루어진 문자열 배열
    - EX
      - HTML로 작성된 텍스트 문서 => text/html
      - JPEG 이미지 => image/jpeg
- URI : 통합 자원 식별자
  - 서버 리소스 이름은 URI로 불린다
- URL : 통합 자원 지시자
  - 리소스 식별자의 가장 흔한 형태
  - 세 부분으로 이루어진 표준 포멧
    - 첫번째 : 스킴, 리소스에 접근되기 위해 사용되는 프로토콜 서술 , http://
    - 두번째 : 서버의 인터넷 주소
    - 세번째 : 웹 서버의 리소스
  - 오늘날 대부분의 URI는 URL이다
- URN
  - 유니폼 리소스 이름
  - 콘벤츠를 이루는 한 리소스에 대해， 그 리소스의 위치에 영향 받지 않는 유일무이한 이름 역할을 한다.
  - URN은 리소스 위치를 분석하기 위한 인프라 지원이 필요하지만, 이러한 인프라가 부재하여 실험 중인 상태고 아직 널리 채택되지 않았음
### 트랜잭션
- 메서드
  - GET, PUT, DELETE , POST , HEAD
  - 상태코드 : 200, 302, 404 + 사유 구절
### 메시지
- 단순한 줄 단위의 문자열
- 시작줄 : 요청이라면 무엇을 해야하는지, 응답이라면 무슨일이 일어났는지
- 헤더 : 0개 이상의 헤더 필드, 구문 분석을 위해 : 로 구분
- 본문 : 어떤 종류의데이터든 들어갈 수 있음
### TCP 커넥션
- 메시지가 TCP 커넥션을 통해 한 곳에서 다른 곳으로 옮겨간다
- TCP/IP
  - HTTP는 애플리케이션 계층 프로토콜로 네트워크 통신의 핵심적인 세부사항에 대해서는 신경쓰지 않음
  - 대신 TCP/IP에게 이를 맡김
  - 제공
    - 오류 없는 데이터 전송
    - 순서에 맞는 전달 (데이터는 언제나 보낸 순서대로 도착한다)
    - 조각나지 않은 데이터 스트림 (언제든 어떤 크기로 보낼 수 있다.)
  - TCP와 IP가 층을 이루는 패킷 교환 네트워크 프로토콜 집합
  - 네트워크 개념 : HTTP(애플리케이션 계층) > TCP(전송 계층) > IP(네트워크 계층) > 네트워크를 위한 링크 인터페이스 > 물리적인 네트워크 하드웨어
  - IP 주소와 포트번호를 사용해 클라이언트가 서버 사이에 TCP/IP 커넥션을 맺어야한다.
  - URL에서 IP 주소와 포트번호 찾기
    - http://207.200.83.29:80/index.html
    - IP 주소 = 207.200.83.29, 포트번호 = 80
### 프로토콜 버전
- HTTP/0.9
  - 1991년, GET 메서드만 지원, MIME/헤더/버전 번호 지원 X
- HTTP/1.0
  - 처음으로 널리 쓰인 HTTP, 버전번호/헤더/추가 메서드/멀티미디어 객체 처리 추가
  - 월드 와이드 웹을 대세로 만들었다
- HTTP/1.0+
  - 오래 지속되는 "keep-alive" 커넥션, 가상 호스팅 지원, 프락시 연결 자원 기능 추가 -> 사실상 표준으로 HTTP에 추가됨
- HTTP/1.1
  - 구조적 결함 교정, 성능 최적화, 잘못된 기능 제거에 집중
- HTTP/2.0
  - SPDY 프로토콜을 기반으로 설계가 진행 중인 프로토콜
### 웹의 구성 요소
- 프락시 
  - 클라이언트와서버 사이에 위치한 HTTP 중개자
  - 클라이언트 <-> 프락시 <-인터넷-> 서버
  - 클라이언트의 모든 HTTP 요청을 받아 서버에 전달
  - 주로 보안을 위해 사용됨 = 신뢰할만한 중개자
  - 요청과 응답을 필터링 = 바이러스 검출, 성인 콘텐츠 차
- 캐시
  - 많이 찾는 웹페이지를 클라이언트 가까이에 보관하는 HTTP 창고
  - 클라이언트 <-> 프락시 캐시 / 인터넷 / 서버
- 게이트웨이
  - 다른 애플리케이션과 연결된 특별한 웹 서버
  - 주로 HTTP 트래픽을 다른 프로토콜로 변환하기 위해 사용
  - HTTP 클라이언트 <-http-> http/ftp 게이트웨이 <-ftp-> ftp 서버
- 터널
  - 단순히 HTTP 통신을 전달하기만 하는 특별한 프락시
  - raw 데이터를 열어보지 않고 그대로 전달
  - 주로 비HTTP 데이터를 하나 이상의 http 연결을 통해 그대로 전송해주기 위해 사용
- 에이전트
  - 자동화된 HTTP 요청을 만드는 준지능적 (semi-inteligent) 웹클라이언트