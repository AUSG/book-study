- [Chapter 3. 다른 개발자와 코드 계약](#chapter-3-다른-개발자와-코드-계약)
  - [3.1 자신의 코드와 다른 개발자의 코드](#31-자신의-코드와-다른-개발자의-코드)
    - [3.1.1 자신에게 분명하다고 해서 다른 사람에게도 분명한 것은 아니다](#311-자신에게-분명하다고-해서-다른-사람에게도-분명한-것은-아니다)
    - [3.1.2 다른 개발자는 무의식중에 여러분의 코드를 망가뜨릴 수 있다](#312-다른-개발자는-무의식중에-여러분의-코드를-망가뜨릴-수-있다)
    - [3.1.3 시간이 지나면 자신의 코드를 기억하지 못한다](#313-시간이-지나면-자신의-코드를-기억하지-못한다)
  - [3.2 여러분이 작성한 코드의 사용법을 다른 사람들은 어떻게 아는가?](#32-여러분이-작성한-코드의-사용법을-다른-사람들은-어떻게-아는가)
    - [3.2.1 이름 확인](#321-이름-확인)
    - [3.2.2 데이터 유형 확인](#322-데이터-유형-확인)
    - [3.2.3 문서 읽기](#323-문서-읽기)
    - [3.2.4 직접 물어보기](#324-직접-물어보기)
    - [3.2.5 코드를 살펴보는 것](#325-코드를-살펴보는-것)
  - [3.3 코드 계약](#33-코드-계약)
    - [3.3.1 계약의 세부 조항](#331-계약의-세부-조항)
    - [3.3.2 세부 조항에 너무 의존하지 말라](#332-세부-조항에-너무-의존하지-말라)
  - [3.4 체크 및 어서션](#34-체크-및-어서션)
    - [3.4.1 체크](#341-체크)
    - [3.4.2 어서션](#342-어서션)


<br/>
<br/>

# Chapter 3. 다른 개발자와 코드 계약
- 한 팀에서 다른 개발자들과 협업하기 위한 방법들을 설명한다.

## 3.1 자신의 코드와 다른 개발자의 코드
- 다른 개발자들과 협업하다 보면 내가 쓴 코드를 다른 개발자가 사용하고 수정할 일이 많다.
- 따라서 그 과정에서 발생할 수 있는 문제를 파악하고 선제적으로 조치해야 한다.

### 3.1.1 자신에게 분명하다고 해서 다른 사람에게도 분명한 것은 아니다
- 코드를 쓸 때는 많은 시간 고민하고 쓰기 때문에 내 로직은 모든 것이 분명해 보일 수 있다.
- 하지만 다른 사람도 그럴 거라는 확신은 버려야 한다.

### 3.1.2 다른 개발자는 무의식중에 여러분의 코드를 망가뜨릴 수 있다
- 여러 사람이 작성하는 코드들이 서로 의존성을 지니는 한 절대 안 망가진다는 보장은 없다.
- 테스트를 통해 해결해 볼 수 있다.

### 3.1.3 시간이 지나면 자신의 코드를 기억하지 못한다
- 1-2년 전에 작성한 코드를 다시 들여다 보는 일은 다른 사람이 작성한 코드를 보는 것과 크게 다르지 않다.
- 따라서 이해하기 쉬운 코드를 쓰는 건 다른 사람에게 호의를 베푸는 것이기도 하지만 미래의 자신에게도 유익한 일이다.

<br/>

## 3.2 여러분이 작성한 코드의 사용법을 다른 사람들은 어떻게 아는가?
- 다른 사람들이 아래 사항들을 파악하게 할 필요가 있다.
  - 여러 가지 상황에서 어떤 함수를 호출해야 하는지
  - 클래스가 무엇을 나타내는지
  - 언제 사용되어야 하는지
  - 어떤 값을 인수로 사용해야 하는지
  - 코드가 무슨 동작을 수행하는지
  - 어떤 값을 반환하는지 
- 아래처럼 해결할 수 있다. (이 중 세 가지만 실제로 사용할 만하다)
  - 함수, 클래스, 열거형 등의 이름을 살펴본다.
  - 함수와 생성자의 매개변수 유형 또는 반환값 유형 같은 데이터 유형을 살펴본다.
  - 함수/클래스 수준의 문서나 주석문을 읽어본다.
  - 직접 와서 묻거나 채팅/이메일을 통해 문의한다.
  - 함수와 클래스의 자세한 구현 코드를 읽는다.

### 3.2.1 이름 확인
- 패키지, 클래스, 함수의 이름을 책의 목자라고 생각하자.
- 자신의 코드를 다른 개발자가 어떻게 사용해야 하는지에 대해 가장 잘 전달할 수 있는 방법 중 하나는 이름을 잘 짓는 것이다.

### 3.2.2 데이터 유형 확인
- 유형 시스템을 사용하는 언어로 코드를 작성하는 것은 다른 개발자가 코드를 오용하거나 오작동할 수 없도록 하는 좋은 방법 중 하나다.

### 3.2.3 문서 읽기
- 주석문, 공식 문서, 외부 문서 모두 유용하지만 신뢰도가 높지는 않다.

### 3.2.4 직접 물어보기
- 질문에 답하기 위해 써야 하는 많은 시간, 휴가, 오래 전 작성한 코드, 퇴사 등의 이유로 합리적이지 않은 방법일 수 있다.

### 3.2.5 코드를 살펴보는 것
- 가장 확실하지만 실용적이지 않다.

<br/>

## 3.3 코드 계약
- Programming by contract에서는 서로 다른 코드 간의 상호작용을 마치 계약처럼 생각한다.
- 호출하는 코드는 특정 요건을 충족해야 하며, 호출되는 코드는 원하는 값을 반환하거나 일부 상태를 수정한다.
- 선결 조건, 사후 조건, 불변 사항이 있다.

### 3.3.1 계약의 세부 조항
- 주석문과 문서, 비검사 예외는 코드 계약에서의 세부 조항이 된다.
- 세부 조항은 잘 안 읽게 되기 때문에 조건을 명백하게 하는 것이 세부 조항을 사용하는 것보다 훨씬 낫다.

### 3.3.2 세부 조항에 너무 의존하지 말라
- 세부 조항은 간과하고 넘어갈 때가 많기 때문에 너무 많이 의존하면 오용하기 쉬운 취약한 코드가 될 가능성이 높다.
- 잘못된 일을 하는 것을 처음부터 불가능하게 만들어야 한다.

<br/>

## 3.4 체크 및 어서션
- 컴파일러를 사용하여 계약을 강제할 수 있는 실질적인 방법이 없는 상황에는 런타임 검사를 활용할 수 있다.

### 3.4.1 체크
- 코드 계약이 준수되었는지 확인하기 위한 로직을 추가하는 것이다.
- 경우에 따라 코드 계약에서 세부 조항을 피할 수 없을 때는 계약이 준수되는지 확인하기 위해 체크를 추가하는 것이 좋다.

### 3.4.2 어서션
- 체크와 비슷하지만 어서션은 배포를 위해 빌드할 때 컴파일에서 제외된다.
  - 실제 서비스 환경에서 실패를 명확하게 보여주지 않는다.

