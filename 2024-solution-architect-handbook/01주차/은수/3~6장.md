## 3장 솔루션 아키텍처의 특성
### 스케일 확장성과 탄력성

- 수평확장
    - 증가하는 워크로드를 처리하고자 많은 서버를 추가한다
- 수직확장
    - 증가하는 워크로드를 처리하고자 동일한 인스턴스에 추가 컴퓨터 스토리지 용량과 메모리 성능을 추가한다.
- 관계형 데이터베이스의 주요 문제는 샤딩과 같은 기능을 고려하고 그에 따라 애플리케이션을 수정할때까지 수평적을 확장 할수 없다는 것이다.
    - 사용자 세션을 별도의 NoSQL 데이터베이스에 저장하고 정적 콘텐츠를 오브젝트 스토리지에 저장하고 외부 캐시를 적용하는 것과 같은 저장방법을 함께 사용하면 마스터 데이터베이스의 부하를 줄이는데 도움이 된다.
    - 데이터 쓰기와 업데이트를 위해 마스터 데이터베이스 노드를 유지하고, 모든 읽기 요청에 대해 추가 읽기 전용 복제본을 사용하는 것도 좋은 방법니다.

### 고가용성과 복원력

- 다운타임은 비즈니스와 사용자 신뢰의 손실을 유발 → 고가용성이 주요 요인 중 하나가 됨.

### 내결함성과 중복성

### 재해 복구와 비즈니스 연속성

- 재해 복구를 계획할때 솔루션 아키텍트는 조직의 RTO와 RPO를 이해해야함
    - RTO
        - 중대한 영향 없이 비즈니스가 허용할 수 있는 가동 중지 시간
    - RPO
        - 비즈니스가 허용할 수 있는 데이터 손실의 양

### 확장성과 재사용성

### 사용성과 접근성

- 사용성
    - 사용자가 애플리케이션을 처음 사용할때 탐색의 논리를 얼마나 빨리 배울 수 있는지, 실수 했을때 얼마나 빨리 회복하고 작업을 효율적으로 수행할 수 있는지

### 이식성과 상호 운용성

### 운영 우수성과 유지 보수

### 보안과 규정 준수

### 비용 최적화와 예산

## 4장 솔루션 아키텍처 설계 원칙
### 워크로드 확장

- 예측확장
    - 모든 조직이 취하고자하는 최상의 접근 방식
    - 모니터링 도구를 기반으로 트래픽 데이터를 수집 → 이를 기반으로 확장 예측
- 사후 대응적인 확장
    - 트래픽 처리를 위한 서버 자원 확장 계획을 위한 패턴 결정
        - 읽기 전용으로 캐시 가능한 웹페이지 결정
        - 데이터베이스의 데이터를 쓰거나 업데이트 하는 대신 해당 데이터만 읽어야하는 사용자의 쿼리는?
        - 사용자는 자신의 사용자 프로파일과 같은 동일하거나 반복적인 데이터를 요구하면서 자주 쿼리를 하는가?
    - 웹 계층 트래픽을 오프로드 하고자 이미지 및 동영상 같은 정적 콘텐츠를 웹서버에서 콘텐츠 배포 네트워크로 이동할 수 있다.

### 탄력적인 아키텍처 구축

- 탄력적인 아키텍처를 갖는다는 장애로부터의 복구를 의미
- 복원력은 인프라, 애플리케이션, 데이터베이스, 보안, 네트워킹등 모든 아키텍처 계층에서 사용해야함
- 보안은 애플리케이션 복원력의 가장 중요한 측면중 하나
    - 보안 관점에서 DDoS공격은 서비스와 애플리케이션의 가용성에 영향을 미칠 가능성이 있다.

### 성능을 위한 설계

### 대체 가능한 자원 사용

- 조직은 하드웨어에 상당한 자본을 투자하고 새 버전의 애플리케이션과 구성으로 하드웨어를 업데이트하는 방법을 배라한다.
- 이는 시간이 지나며 서로 다른 서버가 다양한 구성으로 실행되게 하고, 종료할 서버를 확신할 수 없어 불필요한 자원을 실행하게 만든다.
- 서버를 교체 가능한 자원으로 처리하여 서버 플릿에서 새로운 업데이트를 배포하고 테스트할 수 있다.

### 불변의 인프라 구축

- 불변의 인프라란 애플리케이션을 업그레이드하는 동안 소프트웨어뿐만 아니라 하드웨어도 교체한다는 의미를 가진다.
- 카나리 테스트
    - 불변의 인프라로 롤링 배포를 적용하는데 사용되는 인기 있는 방법 중 하나

### 느슨한 결합을 고려하기

- 로드 밸런서나 큐와 같은 중간 계층을 추가할 수 있고, 이 계층은 자동으로 장애나 확장 작업을 처리하게 된다

### 서버가 아닌 서비스를 생각하기

- 서비스 지향적인 사고와 관련해 솔루션 아키텍트는 SOA를 지향하는 경향이 있다.
- 가장 널리 사용되는 두가지 SOA
    - SOAP
        - 메시지를 XML로 지정하고 HTTP를 기반으로 하는 SOAP프로토콜을 사용해 인터넷을 통해 메시지를 보낸다
    - RESTful
        - XML, JSON 또는 일반 텍스트로 메시지 형식을 지정하고 간단한 HTTP를 통해 보낸다.
        - SOAP보다 매우 가볍고 훨씬 간단한다

### 요구 사항에적합한 스토리지 사용

- 고려해야할 요소
    - 내구성 요건, 데이터 가용성, 대기 시간 요건, 데이터 처리량, 데이터 크기, 데이터 부하, 데이터 무결성, 데이터 쿼리

### 데이터 중심 설계

### 아키텍처 제약 극복

### MVP 방식 채택

- MO: must have
- S : shoud have
- Co : could have
- W : won’t have

### 모든 곳에 보안 추가

- 데이터 센터의 물리적 보안
- 네트워크 보안
- IAM
- 전송 중 데이터 보안
- 미사용 데이터 보안
- 보안 모니터링

### 모든 곳에서 자동화 적용

대부분의 장애는 사람의 실수로 발생하며 자동화로 피할 수 있다

- 애플리케이션 테스트
- IT인프라
- 로깅, 모니터링, 경고
- 배포 자동화
- 보안 자동화

## 5장 클라우드 마이그레이션과 하이브리드 클라우드 아키텍처 설계
### 클라우드 네이티브 아키텍처의 이점

- 선결제 비용이 발생하지 않아 빠른 성장 가능
- 클라우드의 온디맨드 모델로 인해 자체 서버 호스팅의 선불 비용을 지불하는 것보다 실험에 대한 위험이 적다
- 성수기를 처리하고자 초과 용량 계획할 필요가 없다

### 클라우드 마이그레이션 전략 수립

- 리프트 앤 시프트 마이그레이션
    - 애플리케이션을 이동하는데 최소한의 작업이 필요하여 일반적으로 가장 빠른 마이그레이션 모드
    - 클라우드 기본 기능을 활용하지 않는 경우 있음
    - 리프트 앤 시프트를 수행하는데 자주 사용되는 마이그레이션 전략
        - 리호스트
            - 빠르고 예측 가능하며 반복 가능
            - 경제적 → 가장 선호되는 방법
        - 리플랫폼
        - 재배치
- 클라우드 네이티브 접근 방식
    - 리팩터
    - 재구매
- 유지나 폐기
    - 유지폐기

### 클라우드 전략 선택

리팩터, 리플랫폼, 재구매, 리호스트, 유지, 재배치, 폐기와 같은 마이그레이션 전략별 특징과  시간과 비용, 최적화 기회를 비교하여 선택해야함.

### 클라우드 마이그레이션 단계

탐색→ 분석→ 계획→설계→마이그레이션→통합→검증→운영→최적화

### 하이브리드 클라우드 아키텍처 생성

### 멀티클라우드 접근 방식

### 클라우드 네이티브 아키텍처 설계

### 퍼블릭 클라우드 업체 선택


## 6장 솔루션 아키텍처 설계 패턴
### 멀티계층 멀티티어 아키텍처 구축

- 멀티계층 아키텍처에서는 느슨하게 결합된 설계의 원칙과 확장성 및 탄력성의 속성을 적용해야한다
- 이를 사용하면 새로운 기술을 더 쉽게 도입하고 개발을 더 효율적으로 수행할 수 있다.

### 멀티테넌트 SaaS 기반 아키텍처 구축

- SaaS 모델은 단일 소프트웨어 인스턴스와 자원 인프라가 여러 고객에게 서비스를 제공하는 멀티테넌트 아키텍처를 기반으로 한다.
- 이 설계에서 각 고객은 고유한 구성, ID, 데이터로 격리된 각 테넌트와 함께 애플리케이션과 데이터 베이스를 공유한다.

### 상태 저장과 상태 비저장 아키텍처 설계 구축

- 사용자 상태를 유지하고 애플리케이션을 상태 비저장으로 만들려면 사용자 세션 정보를 NoSQL 데이터베이스와 같은 영구 데이터 베이스 계층에 저장해야한다.
- 세션 저장 메커니즘은 상태 비저장 및 상태 저장 애플리케이션 설계 간의 주요 차이점이다
- 상태 저장 애플리케이션은  대체할 수 없는 서버에 대플리케이션 상태가 지속되기 때문에 수평 확장을 지원하지 않는 경우가 많다.

### 서비스 지향 아키텍처 이해

서비스 지향 아키텍처 = SOA

- SOA패턴에서 서로 다른 애플리케이션 구성요소끼리는 네트워크를 통한 통신 프로토콜을 사용해 서로 상호작용함
- SOA는 모놀리식 애플리케이션을 일반적으로 사용함
- SOA의 사용 목적 : 애플리케이션 서비스의 결합을 느슨하게 하는 것

### 서버리스 아키텍처 구축

- 기본 인프라 유지 관리에 대한 걱정 없이 애플리케이션에 집중하고 기능 구현을 위한 코드 작성에 집중할 수 있다.
- AWS Lambda

### 마이크로서비스 아키텍처 생성

- 발생할 수 있는 오류나 사고에 대해 내구성을 가질 수 있다.
- 더 작은 코드를 유지해야하며 항상 독립적이어야한다
- **경계 컨텍스트**

### 솔루션 아키텍처에서 안티패턴 방지

- 시스템 확장이 수동으로 수행되는 경우
- 자동화가 안된 경우
- 서버가 하드코딩된 IP 주소를 계속 사용해 유연성을 가지지 못하는 경우
- 웹, 애플리케이션, 데이터 계층을 포함한 아키텍처의 모든 계층이 밀접하게 연결되고 서버에 종속되는 모놀리식 방식으로 애플리케이션이 구축되는것
- 애플리케이션이 서버에 바인딩 되고 서버가 서로 직접 통신하는 것
- 다양한 부하에 대해 한 종류의 데이터베이스만 사용되는 것
- 애플리케이션에서 서비스에 단일 데이터베이스 인스턴스를 사용해 단일 장애점을 갖게하는것
- 고해상도 이미지 및 동영상과 같은 정적 콘텐츠가 캐시 없이 서버에 직접 제공되는것
- 세분화된 보안 정책 없이 서버 액세스를 개방해 보안 허점을 노출하는 것