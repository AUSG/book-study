# Chapter 3. 생성 패턴
- 생성 패턴: 인스턴스를 만드는 절차를 추상화
  - 시스템이 어떤 구체 클래스를 사용하는지에 대한 정보를 캡슐화
  - 클래스의 인스턴스들이 어떻게 만들고 어떻게 서로 맞붙는지에 대한 부분을 완전히 은닉
  - **무엇이** 생성되고 **누가** 생성하며 **어떻게** 생성하는지, **언제** 생성할 것인지 결정하는 데 유연성 확보 가능

<br/>

- 추상 팩토리 패턴
  - 상세화된 서브클래스를 정의하지 않고도 서로 관련성이 있거나 독립적인 여러 객체의 군을 생성하기 위한 인터페이스 제공
  - 활용성
    - 객체가 생성되거나 구성, 표현되는 방식과 무관하게 시스템을 독립적으로 만들고자 할 때
    - 여러 제품군 중 하나를 선택해 시스템을 설정해야 하고 한 번 구성한 제품을 다른 것으로 대체할 수 있을 때
    - 관련된 제품 객체들이 함께 사용되도록 설계되었고, 이 부분에 대한 제약이 외부에도 지켜지도록 하고 싶을 때
    - 제품에 대한 클래스 라이브러리를 제공하고, 그들의 구현이 아닌 인터페이스를 노출시키고 싶을 때
  - 결과
    - 구체적 클래스 분리
    - 제품군 쉽게 대체할 수 있도록 함
    - 제품 사이의 일관성 증진
    - 새로운 종류의 제품 제공하기 어려움
  - 구현
    - 팩토리를 단일체로 정의
    - 제품 생성
    - 확장 가능한 팩토리 정의

<br/>

- 빌더 패턴
  - 복잡한 객체를 생성하는 방법과 표현하는 방법을 정의하는 클래스를 별도로 분리 -> 서로 다른 표현도 생성할 수 있는 동일한 절차 제공
  - 활용성
    - 복합 객체의 생성 알고리즘이 이를 합성하는 요소 객체들이 무엇인지 이들의 조립 방법에 독립적일 때
    - 합성할 객체들의 표현이 서로 다르더라도 생성 절차에서 이를 지원해야 할 때
  - 결과
    - 제품에 대한 내부 표현을 다양하게 변화할 수 있음
    - 생성과 표현에 필요한 코드 분리
    - 복합 객체를 생성하는 절차를 세밀하게 나눌 수 있음
  - 구현
    - 조합과 구축에 필요한 인터페이스 정의
    - 빌더의 서브클래스만 이용해도 충분
    - 빌더에 있는 메서드에 대해서는 구현을 제공하지 않는 게 일반적

<br/>

- 팩토리 메서드 패턴
  - 객체를 생성하기 위해 인터페이스 정의하지만, 어떤 클래스의 인스턴스를 생성할지에 대한 결정은 서브클래스가 내리도록 함
    - 활용성
      - 어떤 클래스가 자신이 생성해야 하는 객체의 클래스를 예측할 수 없을 때
      - 생성할 객체를 기술하는 책임을 자신의 서브클래스가 지정했으면 할 때
      - 객체 생성의 책임을 몇 개의 보조 서브클래스 가운데 하나에게 위임하고, 어떤 서브클래스가 위임자인지에 대한 정보를 국소화시키고 싶을 때
    - 결과
      - 서브클래스에 대한 훅 메서드 제공
      - 병렬적인 클래스 계통 연결하는 역할 담당
    - 구현
      - 1) Creator 클래스를 추상 클래스로 정의하고, 정의한 팩토리 메서드에 대한 구현은 제공하지 않거나 2) Creator가 구체 클래스이고, 팩토리 메서드에 대한 기본 구현을 제공하는 방법 중 하나로 구현
      - 팩토리 메서드를 매개변수화
      - 템플릿을 사용해 서브클래싱 회피
      - 명명 규칙을 정해 따르기

<br/>

- 원형 패턴
  - 원형이 되는 인스턴스를 사용하여 생성할 객체의 종류를 명시하고, 이렇게 만든 견본을 복사해 새로운 객체 생성
  - 활용성
    - 인스턴스화할 클래스를 런타임에 지정할 때
    - 제품 클래스 계통과 병렬적으로 만드는 팩토리 클래스를 피하고 싶을 때
    - 클래스의 인스턴스들이 서로 다른 상태 조합 중에 어느 하나일 때
  - 결과
    - 런타임에 새로운 제품 추가하고 삭제 가능
    - 값들을 다양화함으로써 새로운 객체 명세
    - 구조를 다양화함으로써 새로운 객체 명세
    - 서브클래스의 수를 줄임
    - 동적으로 클래스에 따라 응용프로그램 설정
  - 구현
    - 원형 관리자 사용
    - Clone() 연산 구현
    - Clone 초기화

<br/>

- 단일체 패턴
  - 오직 한 개의 클래스 인스턴스만을 갖도록 보장하고, 이에 대한 전역적인 접근점 제공
  - 활용성
    - 클래스의 인스턴스가 오직 하나여야 함을 보장하고, 잘 정의된 접근점으로 모든 사용자가 접근할 수 있도록 해야 할 때
    - 유일한 인스턴스가 서브클래싱으로 확장되어야 하며, 사용자는 코드의 수정 없이 확장된 서브클래스의 인스턴스를 사용할 수 있어야 할 때
  - 결과
    - 유일하게 존재하는 인스턴스로의 접근을 통제
    - name space를 좁힘
    - 연산 및 표현의 정제를 허용
    - 인스턴스의 개수 변경 자유로움
    - 클래스 연산을 사용하는 것보다 훨씬 유연한 방법
  - 구현
    - 인스턴스가 유일해야 함을 보장
    - 싱글턴 클래스를 서브클래싱
